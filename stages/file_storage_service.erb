<!-- 
 
RSNA CTP File Storage template


Ruby Variables: 
@name - this is the root of the pipeline name
file_service_root - local directory where the files are to be written

file_service_web_port - if a port is specified, the CTP server will 

Full CTP documentation
http://mircwiki.rsna.org/index.php?title=CTP-The_RSNA_Clinical_Trial_Processor#Storage_Services

-->

        <FileStorageService
            name="<%= @name %>FileStorageService"
            class="org.rsna.ctp.stdstages.FileStorageService"
            root="<%= file_service_root %>" 
            quarantine="quarantines/<%=@name%>DicomAnon/FileStorageService"
            type="month"
            timeDepth="0"
            acceptDuplicateUIDs="yes"
            acceptDicomObjects="yes"
            acceptXmlObjects="yes"
            acceptZipObjects="yes"
            acceptFileObjects="yes" 
            returnStoredFile="no"
            setWorldReadable="no"
            setWorldWritable="no"
            <% unless file_service_web_port.nil? %>
            port="<%= file_service_web_port %>"
            ssl="yes"
            requireAuthentication="no"
            exportDirectory=""
            <% end %>
            >

            <jpeg frame="first" wmax="10000" wmin="96" q="-1" />

        </FileStorageService>